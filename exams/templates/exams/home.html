{% extends 'exams/base.html' %}

{% block title %}Accueil - Plateforme d'Examens{% endblock %}

{% block content %}
<div style="text-align: center; padding: 40px 0;">
    <h1 style="font-size: 48px; color: #667eea; margin-bottom: 20px;">
        🎓 Bienvenue sur la Plateforme d'Examens
    </h1>
    <p style="font-size: 20px; color: #666; margin-bottom: 40px;">
        Passez vos examens en ligne en toute sécurité avec Django
    </p>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 40px 0;">
        <div class="card" style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 15px;">📚</div>
            <h3 style="color: #667eea; margin-bottom: 10px;">{{ total_exams }}</h3>
            <p style="color: #666;">Examens disponibles</p>
        </div>
        
        <div class="card" style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 15px;">👨‍🎓</div>
            <h3 style="color: #667eea; margin-bottom: 10px;">{{ total_students }}</h3>
            <p style="color: #666;">Étudiants inscrits</p>
        </div>
        
        <div class="card" style="text-align: center;">
            <div style="font-size: 48px; margin-bottom: 15px;">🔒</div>
            <h3 style="color: #667eea; margin-bottom: 10px;">100%</h3>
            <p style="color: #666;">Sécurisé avec middlewares</p>
        </div>
    </div>
    
    {% comment %} <div style="margin-top: 50px;">
        <a href="{% url 'register' %}" class="btn btn-primary" style="margin-right: 15px; font-size: 18px; padding: 15px 30px;">
            ✍️ Créer un compte
        </a>
        <a href="{% url 'login' %}" class="btn btn-secondary" style="font-size: 18px; padding: 15px 30px;">
            🔐 Se connecter
        </a>
    </div> {% endcomment %}
</div>

<div class="card" style="margin-top: 50px;">
    <h2>🔧 Démonstration des Middlewares Django</h2>
    <p style="color: #666; line-height: 1.8; margin-top: 15px;">
        Cette application démontre l'utilisation des middlewares Django pour gérer automatiquement :
    </p>
    <ul style="margin-top: 20px; padding-left: 20px; line-height: 2;">
        <li><strong>🔐 Authentification :</strong> Gestion automatique des sessions utilisateurs</li>
        <li><strong>🛡️ Protection CSRF :</strong> Protection contre les attaques Cross-Site Request Forgery</li>
        <li><strong>📝 Logging :</strong> Enregistrement automatique de toutes les requêtes HTTP</li>
        <li><strong>⚠️ Gestion d'erreurs :</strong> Pages d'erreur personnalisées (404, 500, 403)</li>
        <li><strong>⏱️ Sécurité des sessions :</strong> Détection d'inactivité et validation d'intégrité</li>
        <li><strong>💾 Cache :</strong> Gestion intelligente du cache pour les pages protégées</li>
    </ul>
</div>

<div class="card" style="background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);">
    <h3 style="color: #667eea;">💡 Sans middlewares vs Avec middlewares</h3>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
        <div>
            <h4 style="color: #dc3545; margin-bottom: 10px;">❌ Sans middlewares</h4>
            <ul style="line-height: 2; color: #666;">
                <li>Code de sécurité dupliqué partout</li>
                <li>Gestion manuelle des sessions</li>
                <li>Protection CSRF à implémenter soi-même</li>
                <li>Logs manuels dans chaque vue</li>
                <li>Gestion d'erreurs répétitive</li>
            </ul>
        </div>
        <div>
            <h4 style="color: #28a745; margin-bottom: 10px;">✅ Avec middlewares Django</h4>
            <ul style="line-height: 2; color: #666;">
                <li>Sécurité automatique et centralisée</li>
                <li>Sessions gérées automatiquement</li>
                <li>Protection CSRF intégrée</li>
                <li>Logs automatiques de toutes les requêtes</li>
                <li>Gestion d'erreurs centralisée</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}