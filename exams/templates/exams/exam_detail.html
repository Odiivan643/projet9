{% extends 'exams/base.html' %}

{% block title %}{{ exam.title }}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <a href="{% url 'exam_list' %}" style="color: #667eea; text-decoration: none; margin-bottom: 20px; display: inline-block;">
        ‚Üê Retour aux examens
    </a>
    
    <div class="card">
        <h1 style="color: #667eea; margin-bottom: 20px;">{{ exam.title }}</h1>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
            <p style="line-height: 1.8; color: #666;">{{ exam.description }}</p>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
            <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; text-align: center;">
                <div style="font-size: 32px; margin-bottom: 10px;">‚è±Ô∏è</div>
                <div style="font-size: 24px; font-weight: bold; color: #1976d2;">{{ exam.duration }}</div>
                <div style="color: #666; font-size: 14px;">minutes</div>
            </div>
            
            <div style="background: #fff3e0; padding: 20px; border-radius: 8px; text-align: center;">
                <div style="font-size: 32px; margin-bottom: 10px;">‚ùì</div>
                <div style="font-size: 24px; font-weight: bold; color: #f57c00;">{{ exam.questions.count }}</div>
                <div style="color: #666; font-size: 14px;">questions</div>
            </div>
            
            <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; text-align: center;">
                <div style="font-size: 32px; margin-bottom: 10px;">üéØ</div>
                <div style="font-size: 24px; font-weight: bold; color: #388e3c;">{{ exam.passing_score }}%</div>
                <div style="color: #666; font-size: 14px;">pour r√©ussir</div>
            </div>
        </div>
        
        {% if existing_session %}
            {% if existing_session.status == 'completed' %}
                <div class="alert alert-success" style="margin-bottom: 20px;">
                    ‚úÖ Vous avez d√©j√† pass√© cet examen avec un score de <strong>{{ existing_session.score|floatformat:0 }}%</strong>
                </div>
                <a href="{% url 'exam_result' existing_session.id %}" class="btn btn-primary" style="width: 100%; font-size: 18px; padding: 15px;">
                    üìä Voir mes r√©sultats
                </a>
            {% else %}
                <div class="alert alert-warning" style="margin-bottom: 20px;">
                    ‚ö†Ô∏è Vous avez un examen en cours.
                </div>
                <a href="{% url 'take_exam' exam.id %}" class="btn btn-success" style="width: 100%; font-size: 18px; padding: 15px;">
                    ‚ñ∂Ô∏è Reprendre l'examen
                </a>
            {% endif %}
        {% else %}
            <a href="{% url 'start_exam' exam.id %}" class="btn btn-primary" style="width: 100%; font-size: 18px; padding: 15px;">
                üöÄ Commencer l'examen
            </a>
        {% endif %}
    </div>
</div>
{% endblock %}